# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  MenuSuperior:
    DefinitionType: CanvasComponent
    AccessAppScope: true
    Properties:
      Height: =60
      Width: =1346
    Children:
      - Container1_4:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.None
            Fill: =ColorFade(cor.tema,83%)
            Height: =60
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Width: =1346
          Children:
            - Image1:
                Control: Image@2.2.3
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =22
                  Image: ='logo-mp'
                  ImagePosition: =ImagePosition.Fill
                  Width: =155
                  X: =1097
                  Y: =5
            - Image1_2:
                Control: Image@2.2.3
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =50
                  Image: ='Logo-SavE'
                  ImagePosition: =ImagePosition.Fill
                  Width: =255
                  X: =3
                  Y: =7
            - imagePerfilTopo_2:
                Control: Image@2.2.3
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =50
                  Image: =User().Image
                  RadiusBottomLeft: =200
                  RadiusBottomRight: =200
                  RadiusTopLeft: =200
                  RadiusTopRight: =200
                  Width: =50
                  X: =1280
                  Y: =5
            - BadgeCanvas1_2:
                Control: Badge@0.0.24
                Properties:
                  Appearance: ='BadgeCanvas.Appearance'.Filled
                  BasePaletteColor: =cor.tema
                  Content: |+
                    =With(
                        {
                            nomes: Split(User().FullName, " "), // Divide o nome completo em partes
                            primeiroNome: First(Split(User().FullName, " ")).Value, // Obtém o primeiro nome
                            segundoNome: Last(FirstN(Split(User().FullName, " "), 2)).Value // Obtém o segundo nome (se existir)
                        },
                        If(
                            CountRows(nomes) = 1, 
                            Left(primeiroNome, 2), // Caso só tenha um nome, pega as duas primeiras letras
                            If(
                                Len(segundoNome) < 4,
                                Concatenate(
                                    Left(primeiroNome, 1),
                                    If(CountRows(nomes) > 2, Left(Last(FirstN(nomes, 3)).Value, 1), Left(segundoNome, 1))
                                ), // Se o segundo nome for curto, pega o primeiro e a inicial do terceiro nome (se existir), caso contrário pega o segundo mesmo
                                Concatenate(Left(primeiroNome, 1), Left(segundoNome, 1)) // Pega a primeira letra do primeiro nome e do segundo nome normalmente
                            )
                        )
                    )
                  FontSize: =24
                  Height: =imagePerfilTopo_2.Height
                  ThemeColor: ='BadgeCanvas.ThemeColor'.Brand
                  Visible: =!UsuáriosdoOffice365.UserPhotoMetadata(User().Email).HasPhoto
                  Width: =imagePerfilTopo_2.Width
                  X: =imagePerfilTopo_2.X
                  Y: =imagePerfilTopo_2.Y
            - BotaoNovoCaso:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  BorderThickness: =0
                  Color: =cor.tema
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =Container1_4.Fill
                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =Self.Color
                  HoverFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:10},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  OnSelect: |-
                    =Set(
                        ItemAtual,
                        Blank()
                    );
                    Navigate(Tela_Selecao_Form)
                  PressedBorderColor: =Self.Fill
                  PressedFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:15},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  RadiusBottomLeft: =5
                  RadiusBottomRight: =5
                  RadiusTopLeft: =5
                  RadiusTopRight: =5
                  Size: =13
                  Text: ="Novo caso"
                  Tooltip: ="Criar Novo Caso"
                  Width: =120
                  X: =Icon3.X + Icon3.Width + 10
                  Y: =10
            - BotaoCasos:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  BorderThickness: =0
                  Color: =cor.tema
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =Container1_4.Fill
                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =Self.Color
                  HoverFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:10},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  OnSelect: |-
                    =Navigate(Tela_Buscar_Casos);
                    Refresh(SAVe_Geral)
                  PressedBorderColor: =Self.Fill
                  PressedFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:15},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  RadiusBottomLeft: =6
                  RadiusBottomRight: =6
                  RadiusTopLeft: =6
                  RadiusTopRight: =6
                  Size: =13
                  Text: =If(_meuCargo = "Administrador", "Buscar casos", "Meus Casos")
                  Tooltip: =If(_meuCargo <> "Administrador", "Acessar Meus Casos", "Acessar Busca de Casos")
                  Width: =120
                  X: =BotaoNovoCaso.X + BotaoNovoCaso.Width + 10
                  Y: =BotaoNovoCaso.Y
            - BotaoUsuarios:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  BorderThickness: =0
                  Color: =cor.tema
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =Container1_4.Fill
                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =Self.Color
                  HoverFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:10},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  OnSelect: =Navigate(Tela_Gestao_Usuarios)
                  PressedBorderColor: =Self.Fill
                  PressedFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:15},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  RadiusBottomLeft: =6
                  RadiusBottomRight: =6
                  RadiusTopLeft: =6
                  RadiusTopRight: =6
                  Size: =13
                  Text: ="Usuários"
                  Visible: =_meuCargo = "Administrador"
                  Width: =100
                  X: =BotaoCasos.X + BotaoCasos.Width + 10
                  Y: =BotaoNovoCaso.Y
            - BotaoDashboards:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  BorderThickness: =0
                  Color: =cor.tema
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =Container1_4.Fill
                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =Self.Color
                  HoverFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:10},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  OnSelect: =Navigate(Tela_Dashboards)
                  PressedBorderColor: =Self.Fill
                  PressedFill: =With({loc_CorParaAlterar:Self.Color,loc_ValorOpacidade:15},ColorValue(Concatenate(Left(Substitute(JSON(loc_CorParaAlterar),"""",""),7),Dec2Hex(Round(loc_ValorOpacidade/100*255,0)))))
                  RadiusBottomLeft: =6
                  RadiusBottomRight: =6
                  RadiusTopLeft: =6
                  RadiusTopRight: =6
                  Size: =13
                  Text: ="Dashboards"
                  Visible: =_meuCargo = "Administrador"
                  Width: =120
                  X: =BotaoUsuarios.X + BotaoUsuarios.Width + 10
                  Y: =BotaoNovoCaso.Y
            - Icon3:
                Control: Classic/Icon@2.5.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =cor.tema
                  Height: =32
                  Icon: =Icon.Home
                  OnSelect: =Navigate(Tela_Entrada)
                  Tooltip: ="Ir para Tela de Entrada"
                  Width: =32
                  X: =Image1_2.Width + Self.Width
                  Y: =16
      - Image5:
          Control: Image@2.2.3
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Height: =29
            Image: ='logo-01'
            ImagePosition: =ImagePosition.Fill
            Width: =147
            X: =1102
            Y: =31
