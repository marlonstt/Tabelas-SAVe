# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  MenuPassos:
    DefinitionType: CanvasComponent
    AccessAppScope: true
    CustomProperties:
      GaleriaAbas:
        PropertyKind: Input
        DisplayName: GaleriaAbas
        Description: Uma propriedade personalizada
        DataType: Table
        Default: "=With(\r\n    {\r\n        menu: If(_FormCompleto, \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 120,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 120,//150\r\n                nome: \"Identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 120,//180\r\n                nome: \"Ensino - trab - renda\",\r\n                descricao: \"\",\r\n                pagina: Tela_Ensino_Trab_Renda\r\n            },\r\n            \r\n            {\r\n                idMenu: 4,\r\n                largura: 60,\r\n                nome: \"Assistência\",\r\n                descricao: \"\",\r\n                pagina: Tela_Assistencia\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 120,\r\n                nome: \"Habitação e Território\",\r\n                descricao: \"\",\r\n                pagina: Tela_Territorio\r\n            },\r\n            {\r\n                idMenu: 6,\r\n                largura: 80,\r\n                nome: \"Saúde\",\r\n                descricao: \"\",\r\n                pagina: Tela_Saude\r\n            },\r\n            {\r\n                idMenu: 7,\r\n                largura: 85,\r\n                nome: \"Vínculos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vinculos\r\n            },\r\n            {\r\n                idMenu: 8,\r\n                largura: 120,//200\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 9,\r\n                largura: 110,\r\n                nome: \"Agressor\",\r\n                descricao: \"\",\r\n                pagina: Tela_Agressor\r\n            },\r\n            {\r\n                idMenu: 10,\r\n                largura: 120,//180\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 11,\r\n                largura: 120,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            },\r\n            {\r\n                idMenu: 12,\r\n                largura: 120,\r\n                nome: \"Síntese Analítica\",\r\n                descricao: \"\",\r\n                pagina: Tela_Sintese_Analitica\r\n            },\r\n            {\r\n                idMenu: 13,\r\n                largura: 130,//120 170\r\n                nome: \"Acompanhamentos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Acompanhamento\r\n            },\r\n            /*{\r\n                idMenu: 14;\r\n                largura: 120;//200\r\n                nome: \"Relato de Atendimento\";\r\n                descricao: \"\";\r\n                pagina: Tela_Relato_De_Atendimento\r\n            };*/\r\n            {\r\n                idMenu: 14,\r\n                largura: 120,//135\r\n                nome: \"Encerramento\",\r\n                descricao: \"\",\r\n                pagina: Tela_Encerramento\r\n            },\r\n            {\r\n                idMenu: 15,\r\n                largura: 120,//132\r\n                nome: \"Matriz de risco\",\r\n                descricao: \"\",\r\n                pagina: Tela_Matriz_De_Risco\r\n            },\r\n            {\r\n                idMenu: 16,\r\n                largura: 120,//135\r\n                nome: \"Referências\",\r\n                descricao: \"\",\r\n                pagina: Tela_Referencias\r\n            }\r\n        ], //dados de entrada, socioidentificação, situação juridica maior e menor, proteção-segurança e vitimização \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 170,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 150,\r\n                nome: \"Identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 200,\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 4,\r\n                largura: 180,\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 240,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            }\r\n        ]\r\n        )\r\n    },\r\n    With(\r\n        {\r\n            // Acrescenta a coluna \"larguraCalc\" conforme regra:\r\n            // Se o item for o selecionado (_passoAtual.idMenu), usa a largura definida;\r\n// Senão, divide o espaço restante igualmente entre os demais itens.\r\nmenuCalc: AddColumns(\r\n                menu,\r\n                larguraCalc,\r\n                If(\r\n                    pagina = MenuPassos.TelaAtual,\r\n                    largura,\r\n                    If(pagina = Tela_Vitimizacao, largura,\r\n                    ((Self.Width - 100) - LookUp(\r\n                        menu,\r\n                        pagina = MenuPassos.TelaAtual,\r\n                        largura\r\n                    )) / (CountRows(menu) - 1))\r\n                )\r\n            )\r\n        },\r\n        // Ordena os itens pelo idMenu e calcula a posição \"distancia\" de cada item\r\n// somando as larguras calculadas dos itens anteriores.\r\n        AddColumns(\r\n            SortByColumns(\r\n                menuCalc,\r\n                \"idMenu\",\r\n                SortOrder.Ascending\r\n            ) As m1,\r\n            distancia,\r\n            Sum(\r\n                Filter(\r\n                    menuCalc,\r\n                    idMenu < m1.idMenu\r\n                ),\r\n                larguraCalc\r\n            )\r\n        )\r\n    )\r\n)"
      NavegarAnterior:
        PropertyKind: Action
        DisplayName: NavegarAnterior
        Description: Navega para a tela anterior.
        ReturnType: None
      NavegarProximo:
        PropertyKind: Action
        DisplayName: NavegarProximo
        Description: Navega para a próxima aba.
        ReturnType: None
      TelaAtual:
        PropertyKind: Input
        DisplayName: TelaAtual
        Description: Uma propriedade personalizada
        DataType: Screen
        Default: =App.ActiveScreen
    Properties:
      Height: =100
      NavegarAnterior: |-
        =Navigate(
            LookUp(
                Self.GaleriaAbas,
                LookUp(
                    Self.GaleriaAbas,
                    pagina = Self.TelaAtual
                ).idMenu - 1 = idMenu
            ).pagina
        )
      NavegarProximo: |-
        =Navigate(
            LookUp(
                Self.GaleriaAbas,
                LookUp(
                    Self.GaleriaAbas,
                    pagina = Self.TelaAtual
                ).idMenu + 1 = idMenu
            ).pagina
        )
      Width: =App.Width
    Children:
      - Container2_4:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.Semibold
            Fill: |+
              =With(
                      {
                          loc_RGBAColor: cor.tema,
                          loc_AlphaValue: 70
                      },
                      ColorValue(
                          Concatenate(
                              Left(
                                  Substitute(
                                      JSON(loc_RGBAColor),
                                      """",
                                      ""
                                  ),
                                  7
                              ),
                              Dec2Hex(
                                  Round(
                                      loc_AlphaValue / 100 * 255,
                                      0
                                  )
                              )
                          )
                      )
                  )

            Height: =3
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =Parent.Width-Self.X*2
            X: =4
            Y: =90
      - Label2:
          Control: Label@2.5.1
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =ColorFade(cor.tema,-40%)
            Font: =Font.'Open Sans'
            FontWeight: =FontWeight.Bold
            Height: =42
            Size: =15
            Text: |-
              ="Plano de atenção à vítima" & If(!IsBlank(ItemAtual.ID_Caso), " #" & ItemAtual.ID_Caso)
            Width: =461
            X: =3
            Y: =3
      - Toolbar1:
          Control: Toolbar@2.0.5
          Properties:
            BasePaletteColor: =cor.tema
            Items: |-
              =Table({ItemKey: "alternar", ItemDisplayName: "Alternar Formulário Completo/Simples", ItemIconName: "ArrowSync", ItemDisabled: false, ItemAppearance: "Subtle", ItemIconStyle: "Filled"})
            OnSelect: |+
              =Switch(
                  Self.Selected.ItemDisplayName,
                  "Alternar Formulário Completo/Simples",
                  Set(_FormCompleto, !_FormCompleto);
              )


            Visible: =_meuCargo = "Administrador"
            Width: =50
            X: =1275
      - Gallery1_3:
          Control: Gallery@2.15.0
          Variant: Horizontal
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            DelayItemLoading: =false
            Height: =55
            Items: "=With(\r\n    {\r\n        menu: If(_FormCompleto, \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 120,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 120,//150\r\n                nome: \"Identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 120,//180\r\n                nome: \"Ensino - trab - renda\",\r\n                descricao: \"\",\r\n                pagina: Tela_Ensino_Trab_Renda\r\n            },\r\n            \r\n            {\r\n                idMenu: 4,\r\n                largura: 60,\r\n                nome: \"Assistência\",\r\n                descricao: \"\",\r\n                pagina: Tela_Assistencia\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 120,\r\n                nome: \"Habitação e Território\",\r\n                descricao: \"\",\r\n                pagina: Tela_Territorio\r\n            },\r\n            {\r\n                idMenu: 6,\r\n                largura: 80,\r\n                nome: \"Saúde\",\r\n                descricao: \"\",\r\n                pagina: Tela_Saude\r\n            },\r\n            {\r\n                idMenu: 7,\r\n                largura: 85,\r\n                nome: \"Vínculos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vinculos\r\n            },\r\n            {\r\n                idMenu: 8,\r\n                largura: 120,//200\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 9,\r\n                largura: 110,\r\n                nome: \"Agressor\",\r\n                descricao: \"\",\r\n                pagina: Tela_Agressor\r\n            },\r\n            {\r\n                idMenu: 10,\r\n                largura: 120,//180\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 11,\r\n                largura: 120,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            },\r\n            {\r\n                idMenu: 12,\r\n                largura: 120,\r\n                nome: \"Síntese Analítica\",\r\n                descricao: \"\",\r\n                pagina: Tela_Sintese_Analitica\r\n            },\r\n            {\r\n                idMenu: 13,\r\n                largura: 120,//170\r\n                nome: \"Acompanhamentos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Acompanhamento\r\n            },\r\n            /*{\r\n                idMenu: 14;\r\n                largura: 120;//200\r\n                nome: \"Relato de Atendimento\";\r\n                descricao: \"\";\r\n                pagina: Tela_Relato_De_Atendimento\r\n            };*/\r\n            {\r\n                idMenu: 14,\r\n                largura: 120,//135\r\n                nome: \"Encerramento\",\r\n                descricao: \"\",\r\n                pagina: Tela_Encerramento\r\n            },\r\n            {\r\n                idMenu: 15,\r\n                largura: 120,//132\r\n                nome: \"Matriz de risco\",\r\n                descricao: \"\",\r\n                pagina: Tela_Matriz_De_Risco\r\n            },\r\n            {\r\n                idMenu: 16,\r\n                largura: 120,//135\r\n                nome: \"Referências\",\r\n                descricao: \"\",\r\n                pagina: Tela_Referencias\r\n            }\r\n        ], //dados de entrada, socioidentificação, situação juridica maior e menor, proteção-segurança e vitimização \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 170,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 150,\r\n                nome: \"Identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 200,\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 4,\r\n                largura: 180,\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 240,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            }\r\n        ]\r\n        )\r\n    },\r\n    With(\r\n        {\r\n            // Acrescenta a coluna \"larguraCalc\" conforme regra:\r\n            // Se o item for o selecionado (_passoAtual.idMenu), usa a largura definida;\r\n// Senão, divide o espaço restante igualmente entre os demais itens.\r\nmenuCalc: AddColumns(\r\n                menu,\r\n                larguraCalc,\r\n                If(\r\n                    pagina = MenuPassos.TelaAtual,\r\n                    largura,\r\n                    If(pagina = Tela_Vitimizacao, largura,\r\n                    ((Self.Width - 100) - LookUp(\r\n                        menu,\r\n                        pagina = MenuPassos.TelaAtual,\r\n                        largura\r\n                    )) / (CountRows(menu) - 1))\r\n                )\r\n            )\r\n        },\r\n        // Ordena os itens pelo idMenu e calcula a posição \"distancia\" de cada item\r\n// somando as larguras calculadas dos itens anteriores.\r\n        AddColumns(\r\n            SortByColumns(\r\n                menuCalc,\r\n                \"idMenu\",\r\n                SortOrder.Ascending\r\n            ) As m1,\r\n            distancia,\r\n            Sum(\r\n                Filter(\r\n                    menuCalc,\r\n                    idMenu < m1.idMenu\r\n                ),\r\n                larguraCalc\r\n            )\r\n        )\r\n    )\r\n)"
            LoadingSpinner: =LoadingSpinner.None
            ShowNavigation: =true
            TemplatePadding: =0
            TemplateSize: =1
            Width: =Parent.Width - 10
            X: =5
            Y: =45
          Children:
            - texto_idMenu:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =If(ThisItem.pagina = MenuPassos.TelaAtual,Color.White,cor.tema)
                  Font: =Font.'Open Sans'
                  LineHeight: =1.1
                  OnSelect: =Select(Parent)
                  PaddingBottom: =8
                  PaddingLeft: =1
                  PaddingRight: =0
                  PaddingTop: =0
                  Text: =Upper(Left(ThisItem.nome,3))
                  Visible: |-
                    =//MenuPassos.TelaAtual <> ThisItem.pagina && _FormCompleto
                    false
                  Width: =ThisItem.larguraCalc
                  X: =ThisItem.distancia
                  Y: =9
            - Button1_4:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =RGBA(194, 194, 194, 1)
                  BorderThickness: =0
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: |+
                    =With(
                            {
                                loc_RGBAColor: If(ThisItem.pagina = MenuPassos.TelaAtual,cor.tema,Color.Transparent),
                                loc_AlphaValue: 70
                            },
                            ColorValue(
                                Concatenate(
                                    Left(
                                        Substitute(
                                            JSON(loc_RGBAColor),
                                            """",
                                            ""
                                        ),
                                        7
                                    ),
                                    Dec2Hex(
                                        Round(
                                            loc_AlphaValue / 100 * 255,
                                            0
                                        )
                                    )
                                )
                            )
                        )

                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                  OnSelect: |+
                    =Navigate(
                        ThisItem.pagina,
                        If(
                            LookUp(
                                Gallery1_3.AllItems,
                                pagina = MenuPassos.TelaAtual,
                                idMenu
                            ) < ThisItem.idMenu,
                            ScreenTransition.Cover,
                            ScreenTransition.UnCoverRight
                        )
                    );
                  PaddingLeft: =0
                  PaddingRight: =0
                  PressedBorderColor: =Self.Fill
                  PressedColor: =Self.Fill
                  PressedFill: =Self.Color
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =7
                  RadiusTopRight: =7
                  Text: =
                  Visible: =MenuPassos.TelaAtual = ThisItem.pagina
                  Width: =ThisItem.larguraCalc
                  X: =ThisItem.distancia
                  Y: =5
            - texto_tituloMenu:
                Control: Label@2.5.1
                Properties:
                  Align: =Align.Center
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =If(ThisItem.pagina = MenuPassos.TelaAtual,Color.White,cor.tema)
                  Font: =Font.'Open Sans'
                  FontWeight: =If(ThisItem.pagina = MenuPassos.TelaAtual,FontWeight.Semibold,FontWeight.Normal)
                  LineHeight: =1.1
                  OnSelect: =Select(Parent)
                  PaddingBottom: =8
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingTop: =0
                  Size: =8
                  Text: |-
                    =If(ThisItem.nome = "Acompanhamentos",
                       "Acompanhamentos",
                       ThisItem.nome
                    )
                  Visible: |-
                    =//MenuPassos.TelaAtual = ThisItem.pagina || !_FormCompleto
                    true
                  Width: =ThisItem.larguraCalc
                  X: =ThisItem.distancia
                  Y: =8
            - Rectangle1_2:
                Control: Rectangle@2.3.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Fill: =cor.vermelho
                  Height: =4
                  OnSelect: =Select(Parent)
                  Width: =texto_tituloMenu.Width-30
                  X: =texto_tituloMenu.X+15
                  Y: =37
            - Circle1_2:
                Control: Circle@2.3.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Fill: =cor.laranja
                  Height: =5
                  OnSelect: =Select(Parent)
                  Visible: =!(ThisItem.pagina.Name in _paginasVisitadas)
                  Width: =2+2+1+1
                  X: =(texto_tituloMenu.X + texto_tituloMenu.Width/2)-3
                  Y: =8
            - Button1_5:
                Control: Classic/Button@2.2.0
                Properties:
                  BorderColor: =ColorFade(Self.Fill, -15%)
                  BorderThickness: =0
                  Color: =RGBA(255, 255, 255, 1)
                  DisabledBorderColor: =RGBA(166, 166, 166, 1)
                  Fill: =RGBA(0, 0, 0, 0)
                  FocusedBorderThickness: =0
                  Font: =Font.'Open Sans'
                  HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                  HoverColor: =RGBA(255, 255, 255, 1)
                  HoverFill: |-
                    =With(
                            {
                                loc_RGBAColor: cor.tema,
                                loc_AlphaValue: 20
                            },
                            ColorValue(
                                Concatenate(
                                    Left(
                                        Substitute(
                                            JSON(loc_RGBAColor),
                                            """",
                                            ""
                                        ),
                                        7
                                    ),
                                    Dec2Hex(
                                        Round(
                                            loc_AlphaValue / 100 * 255,
                                            0
                                        )
                                    )
                                )
                            )
                        )
                  OnSelect: |
                    =Set(EditDataX,-300); // Faz com que o container de editar datas começe escondido.
                    Navigate(
                        ThisItem.pagina,
                        If(
                            LookUp(
                                Gallery1_3.AllItems,
                                pagina = MenuPassos.TelaAtual,
                                idMenu
                            ) < ThisItem.idMenu,
                            ScreenTransition.Cover,
                            ScreenTransition.UnCoverRight
                        )
                    );
                  PaddingLeft: =0
                  PaddingRight: =0
                  PressedBorderColor: =Self.Fill
                  PressedColor: =Self.Fill
                  PressedFill: |-
                    =With(
                            {
                                loc_RGBAColor: cor.tema,
                                loc_AlphaValue: 30
                            },
                            ColorValue(
                                Concatenate(
                                    Left(
                                        Substitute(
                                            JSON(loc_RGBAColor),
                                            """",
                                            ""
                                        ),
                                        7
                                    ),
                                    Dec2Hex(
                                        Round(
                                            loc_AlphaValue / 100 * 255,
                                            0
                                        )
                                    )
                                )
                            )
                        )
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =7
                  RadiusTopRight: =7
                  Text: =
                  Tooltip: =ThisItem.nome
                  Visible: =(MenuPassos.TelaAtual <> ThisItem.pagina)
                  Width: =ThisItem.larguraCalc
                  X: =ThisItem.distancia
                  Y: =5
      - botaoGerarRelatorio:
          Control: Button@0.0.45
          Properties:
            BasePaletteColor: =cor.tema
            BorderRadius: =8
            DisplayMode: =If(App.ActiveScreen.Name <> "Tela_Relatorio", DisplayMode.Edit, DisplayMode.View)
            Height: =25
            OnSelect: =Navigate(Tela_Relatorio)
            Text: ="Gerar Relatório"
            Visible: =_meuCargo = "Administrador" && !IsBlank(ItemAtual.ID)
            Width: =150
            X: =1125
            Y: =11
      - botaoReabrirCaso:
          Control: Button@0.0.45
          Properties:
            BasePaletteColor: =cor.tema
            BorderRadius: =8
            DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.Edit, DisplayMode.Disabled)
            Height: =25
            Icon: ="Open"
            OnSelect: |-
              =Patch(
                  SAVe_Geral,
                  LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                  {
                      Encerrado: false
                  }
              );
              Remove(SAVe_Encerramento, {ID_Caso: ItemAtual.ID_Caso});
              Set(
                  ItemAtual,
                  LookUp(
                      SAVe_Geral,
                      ID_Caso = ItemAtual.ID_Caso
                  )
              )
            Text: ="Reabrir Caso"
            Visible: =_meuCargo = "Administrador" && !IsBlank(ItemAtual.ID)
            Width: =150
            X: =botaoGerarRelatorio.X - Self.Width - 10
            Y: =botaoGerarRelatorio.Y
