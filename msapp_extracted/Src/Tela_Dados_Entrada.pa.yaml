# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Tela_Dados_Entrada:
    Properties:
      Fill: =RGBA(245, 246, 248, 1)
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
      OnVisible: |-
        =If(!IsBlankOrError(ItemAtual.ID_Caso),

            If(
                !(App.ActiveScreen.Name in _paginasVisitadas),
                Collect(
                    _paginasVisitadas,
                    App.ActiveScreen.Name
                );
                Patch(
                    SAVe_Geral,
                    {ID: ItemAtual.ID_Caso},
                    {Paginas_Visitadas: JSON(_paginasVisitadas)}
                )
            );
            If(
                IsBlankOrError(
                    LookUp(
                        SAVe_DadosDeEntrada,
                        ID_Caso = ItemAtual.ID_Caso
                    )
                ),
                Patch(
                    SAVe_DadosDeEntrada,
                    Defaults(SAVe_DadosDeEntrada),
                    {ID_Caso: ItemAtual.ID_Caso}
                )
            );

            ClearCollect(
                _casosRelacionados,
                ForAll(
                    ParseJSON(
                        LookUp(
                            SAVe_Casos_Vinculados,
                            ID_Caso = ItemAtual.ID_Caso,
                            Casos_Relacionados
                        )
                    ),
                    {
                        id: Value(ThisRecord.id),
                        id_vitima: Text(ThisRecord.id_vitima)
                    }
                )
            );

            //Variável decontexto dos checkboxes
            UpdateContext(
                {
                    varCrimesTotais: Coalesce(
                        LookUp(
                            SAVe_DadosDeEntrada,
                            ID_Caso = ItemAtual.ID_Caso
                        ).Crime_relacionado,
                        ""
                    )
                }
            )
        )
    Children:
      - Container1_1:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.Height-Self.Y-10
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Width: =1346
            X: =10
            Y: =80
          Children:
            - Canvas2_1:
                Control: FluidGrid@2.3.0
                Properties:
                  BorderThickness: =0
                  Height: =583
                  Width: =1334
                  X: =5
                  Y: =95
                Children:
                  - DataCard_1:
                      Control: DataCard@1.0.2
                      Properties:
                        Height: =Container1_6.Y+Container1_6.Height + 10
                        Width: =1334
                        X: =0
                        Y: =0
                      Children:
                        - Container1_6:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderColor: =RGBA(217, 217, 217, 1)
                              BorderThickness: =2
                              DropShadow: =DropShadow.Semilight
                              Fill: =RGBA(255, 255, 255, 1)
                              Height: =240
                              RadiusBottomLeft: =8
                              RadiusBottomRight: =8
                              RadiusTopLeft: =8
                              RadiusTopRight: =8
                              Visible: =_FormCompleto
                              Width: =630
                              X: =681
                              Y: =Container1_7.Height + Container1_7.Y + 10
                            Children:
                              - tituloNomeEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Nome:"
                                    Width: =306
                                    X: =10
                                    Y: =106
                              - tituloTelefoneEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: |-
                                      ="Telefone: "
                                    Width: =entradaTelefoneEntrada.Width
                                    X: =379
                                    Y: =106
                              - entradaTelefoneEntrada:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {PE_telefone: Self.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          PE_telefone
                                      )

                                      //_dadosEntrada.Entrada_Telefone
                                    Width: =235
                                    X: =379
                                    Y: =133
                              - entradaPortaEntrada:
                                  Control: DropDown@0.0.45
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    DefaultSelectedItems: |-
                                      =//[{Value: _dadosEntrada.Porta_Entrada}]
                                      If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Quem_encaminha
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Quem_encaminha
                                                  )
                                              }
                                          ]
                                      )
                                    Items: |-
                                      =["MPMG",
                                      "Ministério Público (outros)",
                                      "Poder Judiciário",
                                      "DPMG",
                                      "Polícia Civil",
                                      "Polícia Militar",
                                      "Poder legislativo",
                                      "Sociedade Civil",
                                      "Serviço Público",
                                      "Demanda espontânea"]
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Quem_encaminha: Self.Selected.Value}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Width: =604
                                    X: =10
                                    Y: =32
                              - tituloPortaEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Quem encaminha:"
                                    Width: =200
                                    X: =10
                                    Y: =5
                              - tituloContatosPortaEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Contatos da porta de entrada"
                                    Width: =605
                                    X: =10
                                    Y: =74
                              - tituloEmailEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="E-mail:"
                                    Width: =306
                                    X: =10
                                    Y: =170
                              - entradaEmailEntrada:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {PE_email: Self.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          PE_email
                                      )
                                      //_dadosEntrada.Entrada_Email
                                    Width: =346
                                    X: =10
                                    Y: =197
                              - tituloCargoEntrada:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Cargo/função:"
                                    Width: =entradaCargoEntrada.Width
                                    X: =379
                                    Y: =170
                              - entradaCargoEntrada:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {PE_cargo: Self.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          PE_cargo
                                      )
                                      //_dadosEntrada.Entrada_Cargo
                                    Width: =235
                                    X: =379
                                    Y: =197
                              - entradaNomeEntrada:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {PE_nome: Self.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ID_Caso = ItemAtual.ID_Caso,
                                          PE_nome
                                      )
                                      //_dadosEntrada.Entrada_Nome
                                    Width: =349
                                    X: =10
                                    Y: =133
                        - Container1_5:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderColor: =RGBA(217, 217, 217, 1)
                              BorderThickness: =2
                              DropShadow: =DropShadow.Semilight
                              Fill: =RGBA(255, 255, 255, 1)
                              Height: =240
                              RadiusBottomLeft: =8
                              RadiusBottomRight: =8
                              RadiusTopLeft: =8
                              RadiusTopRight: =8
                              Width: =If(_FormCompleto, 660, Parent.Width - 30)
                              X: =10
                              Y: =Container1_7.Height + Container1_7.Y + 10
                            Children:
                              - tituloData:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Data:"
                                    Width: =132
                                    X: =10
                                    Y: =5
                              - tituloMunicipioOrigem:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Comarca de origem:"
                                    Width: =entradaMunicipio.Width
                                    X: =10
                                    Y: =87
                              - tituloNumProcedimento:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Nº do Procedimento / Sistema MPE:"
                                    Width: =entradaNumProcedimento.Width
                                    X: =10
                                    Y: =170
                              - entradaNumProcedimento:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    FontColor: =cor.textoPrincipal
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {N_procedimento_MPE: Self.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          N_procedimento_MPE
                                      )
                                    Width: =329
                                    X: =10
                                    Y: =197
                              - tituloPrecisaAtendimentoEspecial:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =7
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Precisa de atendimento especial?"
                                    Width: =252
                                    X: =354
                                    Y: =87
                              - entradaPrecisaAtendimentoEspecial:
                                  Control: Radio@0.0.25
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    DefaultSelectedItems: |-
                                      =If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Precisa_Atendimento_Esp
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Precisa_Atendimento_Esp
                                                  )
                                              }
                                          ]
                                      )

                                      /*If(
                                          !IsBlank(_dadosEntrada.Precisa_Atendimento_Especial);
                                          [{Value: _dadosEntrada.Precisa_Atendimento_Especial}];
                                          ["Não"]
                                      )*/
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    FontColor: =cor.textoPrincipal
                                    FontSize: |+
                                      =15
                                    Height: =40
                                    Items: =["Não","Sim"]
                                    Layout: |+
                                      ='RadioGroupCanvas.Layout'.Horizontal
                                    OnChange: |
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      If(
                                          Self.Selected.Value = "Sim",
                                          //Reset(entradaTipoAtendimento);;
                                          SetFocus(entradaTipoAtendimento)
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Precisa_Atendimento_Esp: Self.Selected.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                    Width: =252
                                    X: =354
                                    Y: =111
                              - entradaMunicipio:
                                  Control: ComboBox@0.0.51
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DefaultSelectedItems: |-
                                      =If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Comarca_origem
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Comarca_origem
                                                  )
                                              }
                                          ]
                                      )
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    FontColor: =cor.textoPrincipal
                                    InputTextPlaceholder: =""
                                    Items: |+
                                      =["ABAETE","ABRE CAMPO","ACUCENA","AGUA BOA","AGUAS FORMOSAS","AIMORES","AIURUOCA","ALEM PARAIBA","ALFENAS","ALMENARA","ALPINOPOLIS","ALTO RIO DOCE","ALVINOPOLIS","ANDRADAS","ANDRELANDIA","ARACUAI","ARAGUARI","ARAXA","ARCOS","AREADO","ARINOS","BAEPENDI","BAMBUI","BARAO DE COCAIS","BARBACENA","BARROSO","BELO HORIZONTE","BELO ORIENTE","BELO VALE","BETIM","BICAS","BOA ESPERANCA","BOCAIUVA","BOM DESPACHO","BOM JESUS DO GALHO","BOM SUCESSO","BONFIM","BONFINOPOLIS DE MINAS","BORDA DA MATA","BOTELHOS","BRASILIA DE MINAS","BRAZÓPOLIS","BRUMADINHO","BUENO BRANDAO","BUENOPOLIS","BURITIS","CABO VERDE","CACHOEIRA DE MINAS","CAETE","CALDAS","CAMANDUCAIA","CAMBUÍ","CAMBUQUIRA","CAMPANHA","CAMPESTRE","CAMPINA VERDE","CAMPO BELO","CAMPOS ALTOS","CAMPOS GERAIS","CANAPOLIS","CANDEIAS","CAPELINHA","CAPINOPOLIS","CARANDAI","CARANGOLA","CARATINGA","CARLOS CHAGAS","CARMO DA MATA","CARMO DE MINAS","CARMO DO CAJURU","CARMO DO PARANAIBA","CARMO DO RIO CLARO","CARMOPOLIS DE MINAS","CARNEIRINHO","CASSIA","CATAGUASES","CAXAMBU","CLAUDIO","CONCEICAO DAS ALAGOAS","CONCEICAO DO MATO DENTRO","CONCEICAO DO RIO VERDE","CONGONHAS","CONQUISTA","CONSELHEIRO LAFAIETE","CONSELHEIRO PENA","CONTAGEM","CORACAO DE JESUS","CORINTO","COROACI","COROMANDEL","CORONEL FABRICIANO","CRISTINA","CRUZILIA","CURVELO","DIAMANTINA","DIVINO","DIVINOPOLIS","DORES DO INDAIA","ELOI MENDES","ENTRE RIOS DE MINAS","ERVALIA","ESMERALDAS","ESPERA FELIZ","ESPINOSA","ESTRELA DO SUL","EUGENOPOLIS","EXTREMA","FERROS","FORMIGA","FRANCISCO SA","FRONTEIRA","FRUTAL","GALILEIA","GOVERNADOR VALADARES","GRAO MOGOL","GUANHAES","GUAPE","GUARANESIA","GUARANI","GUAXUPE","IBIA","IBIRACI","IBIRITE","IGARAPE","IGUATAMA","INHAPIM","IPANEMA","IPATINGA","ITABIRA","ITABIRINHA","ITABIRITO","ITAGUARA","ITAJUBA","ITAMARANDIBA","ITAMBACURI","ITAMOGI","ITAMONTE","ITANHANDU","ITANHOMI","ITAOBIM","ITAPAGIPE","ITAPECERICA","ITAUNA","ITUIUTABA","ITUMIRIM","ITURAMA","JABOTICATUBAS","JACINTO","JACUI","JACUTINGA","JAIBA","JANAUBA","JANUARIA","JEQUERI","JEQUITINHONHA","JOAIMA","JOAO MONLEVADE","JOAO PINHEIRO","JUATUBA","JUIZ DE FORA","LAGOA DA PRATA","LAGOA DOURADA","LAGOA SANTA","LAJINHA","LAMBARI","LAVRAS","LEOPOLDINA","LIMA DUARTE","LUZ","MACHADO","MALACACHETA","MANGA","MANHUACU","MANHUMIRIM","MANTENA","MAR DE ESPANHA","MARIANA","MARTINHO CAMPOS","MATEUS LEME","MATIAS BARBOSA","MATO VERDE","MATOZINHOS","MEDINA","MERCES","MESQUITA","MINAS NOVAS","MIRABELA","MIRADOURO","MIRAI","MONTALVANIA","MONTE ALEGRE DE MINAS","MONTE AZUL","MONTE BELO","MONTE CARMELO","MONTE SANTO DE MINAS","MONTE SIAO","MONTES CLAROS","MORADA NOVA DE MINAS","MURIAE","MUTUM","MUZAMBINHO","NANUQUE","NATERCIA","NEPOMUCENO","NOVA ERA","NOVA LIMA","NOVA PONTE","NOVA RESENDE","NOVA SERRANA","NOVO CRUZEIRO","OLIVEIRA","OURO BRANCO","OURO FINO","OURO PRETO","PADRE PARAISO","PAINS","PALMA","PAPAGAIOS","PARA DE MINAS","PARACATU","PARAGUACU","PARAISOPOLIS","PARAOPEBA","PASSA QUATRO","PASSA TEMPO","PASSOS","PATOS DE MINAS","PATROCINIO","PECANHA","PEDRA AZUL","PEDRALVA","PEDRO LEOPOLDO","PERDIZES","PERDOES","PIRANGA","PIRAPETINGA","PIRAPORA","PITANGUI","PIUMHI","POCO FUNDO","POCOS DE CALDAS","POMPEU","PONTE NOVA","PORTEIRINHA","POUSO ALEGRE","PRADOS","PRATA","PRATAPOLIS","PRESIDENTE OLEGARIO","RAUL SOARES","RESENDE COSTA","RESPLENDOR","RIBEIRAO DAS NEVES","RIO CASCA","RIO NOVO","RIO PARANAIBA","RIO PARDO DE MINAS","RIO PIRACICABA","RIO POMBA","RIO PRETO","RIO VERMELHO","RUBIM","SABARA","SABINOPOLIS","SACRAMENTO","SALINAS","SANTA BARBARA","SANTA LUZIA","SANTA MARIA DE ITABIRA","SANTA MARIA DO SUACUI","SANTA RITA DE CALDAS","SANTA RITA DO SAPUCAI","SANTA VITORIA","SANTO ANTONIO DO AMPARO","SANTO ANTONIO DO MONTE","SANTOS DUMONT","SAO DOMINGOS DO PRATA","SAO FRANCISCO","SAO GONCALO DO ABAETE","SAO GONCALO DO PARA","SAO GONCALO DO SAPUCAI","SAO GOTARDO","SAO JOAO DA PONTE","SAO JOAO DEL REI","SAO JOAO DO PARAISO","SAO JOAO EVANGELISTA","SAO JOAO NEPOMUCENO","SAO LOURENCO","SAO ROMAO","SAO ROQUE DE MINAS","SAO SEBASTIAO DO PARAISO","SAO TOMAS DE AQUINO","SENADOR FIRMINO","SERRO","SETE LAGOAS","SILVIANOPOLIS","TAIOBEIRAS","TARUMIRIM","TEIXEIRAS","TEOFILO OTONI","TIMOTEO","TIROS","TOCANTINS","TOMBOS","TRES CORACOES","TRES MARIAS","TRES PONTAS","TUPACIGUARA","TURMALINA","UBA","UBERABA","UBERLANDIA","UNAI","VARGINHA","VARZEA DA PALMA","VAZANTE","VESPASIANO","VICOSA","VIRGINOPOLIS","VISCONDE DO RIO BRANCO"]
                                    OnChange: |
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Comarca_origem: Self.Selected.Value}
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(
                                              SAVe_Geral,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Comarca: Self.Selected.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                    Width: =332
                                    X: =10
                                    Y: =114
                                  Children:
                                    - Value7:
                                        Control: ComboBoxDataField@1.5.0
                                        Variant: textualColumn
                                        IsLocked: true
                                        Properties:
                                          FieldDisplayName: ="Value"
                                          FieldName: ="Value"
                                          FieldType: ="s"
                                          Order: =1
                              - tituloTipoAtendimento:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Qual tipo de atendimento?"
                                    Visible: =entradaPrecisaAtendimentoEspecial.Selected.Value="Sim"
                                    Width: =246
                                    X: =363
                                    Y: =170
                              - entradaTipoAtendimento:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    FontColor: =cor.textoPrincipal
                                    OnChange: |-
                                      =If(
                                          !IsBlankOrError(entradaTipoAtendimento.Value),
                                          Notify(
                                              "Salvando...",
                                              NotificationType.Information
                                          );
                                          Patch(
                                              SAVe_DadosDeEntrada,
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                              ),
                                              {Atendimento_Especial: Self.Value}
                                          );
                                          Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000)
                                      )
                                    Placeholder: ="Descreva o tipo de atendimento especial"
                                    TriggerOutput: ='TextInputCanvas.TriggerOutput'.FocusOut
                                    Value: |-
                                      =//_dadosEntrada.Tipo_Atendimento_Especial
                                      LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          Atendimento_Especial
                                      )
                                    Visible: =entradaPrecisaAtendimentoEspecial.Selected.Value="Sim"
                                    Width: =281
                                    X: =363
                                    Y: =197
                              - DataCampo_2:
                                  Control: CanvasComponent
                                  ComponentName: DataCampo
                                  Properties:
                                    Ancora: ="tituloData"
                                    ContextoEntrada: ="Texto"
                                    DataEntrada: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ID_Caso = ItemAtual.ID_Caso,
                                          Data
                                      )
                                    DataHora: =false
                                    DataMaxima: =Today()
                                    DataMinima: =DateTime(1900, 1, 1, 0, 0, 0)
                                    DataSaida: =LookUp(_tempDataAux, tela = Self.Ancora, data)
                                    Height: =32
                                    ModoEdicao: =true
                                    SalvarData: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Data: Self.DataSaida}
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(
                                              SAVe_Geral,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Data: Self.DataSaida}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Width: =159
                                    X: =10
                                    Y: =32
                        - Container1_7:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderColor: =RGBA(217, 217, 217, 1)
                              BorderThickness: =2
                              DropShadow: =DropShadow.Semilight
                              Fill: =RGBA(255, 255, 255, 1)
                              Height: =galCasosVinculados.Y+galCasosVinculados.Height + 10
                              RadiusBottomLeft: =8
                              RadiusBottomRight: =8
                              RadiusTopLeft: =8
                              RadiusTopRight: =8
                              Width: =1301
                              X: =10
                              Y: =4
                            Children:
                              - tituloPossuiRelacao:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Possui caso(s) relacionado?"
                                    Width: =263
                                    X: =10
                                    Y: =10
                              - entradaPossuiRelacao:
                                  Control: Radio@0.0.25
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    DefaultSelectedItems: "=If(\n    IsBlank(LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Possui_Relacionado)),\n    Blank(),\n    [{Value: LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Possui_Relacionado)}]\n) "
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    FontColor: =cor.textoPrincipal
                                    FontSize: =12
                                    Height: =40
                                    Items: =["Não", "Sim"]
                                    Layout: ='RadioGroupCanvas.Layout'.Horizontal
                                    OnChange: |
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Possui_Relacionado: Self.Selected.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                    Width: =168
                                    X: =207
                                    Y: =4
                              - botaoVincularCaso:
                                  Control: Classic/Button@2.2.0
                                  Properties:
                                    BorderColor: =ColorFade(Self.Fill, -15%)
                                    BorderThickness: =0
                                    Color: =cor.verde
                                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    Fill: =ColorFade(Self.Color,80%)
                                    FocusedBorderThickness: =0
                                    Font: =Font.'Open Sans'
                                    Height: =32
                                    HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                                    HoverColor: =RGBA(255, 255, 255, 1)
                                    HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                    OnSelect: =Set(_VincularCaso, true)
                                    PressedBorderColor: =Self.Fill
                                    PressedColor: =Self.Fill
                                    PressedFill: =Self.Color
                                    RadiusBottomLeft: =8
                                    RadiusBottomRight: =8
                                    RadiusTopLeft: =8
                                    RadiusTopRight: =8
                                    Size: =12
                                    Text: ="Vincular caso"
                                    Visible: =If(entradaPossuiRelacao.Selected.Value = "Sim", true, false)
                                    Width: =131
                                    X: =528
                                    Y: =9
                              - tituloCasosVinculados:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Casos vinculados:"
                                    Visible: =If(entradaPossuiRelacao.Selected.Value = "Sim", true, false)
                                    Width: =263
                                    X: =673
                                    Y: =9
                              - galCasosVinculados:
                                  Control: Gallery@2.15.0
                                  Variant: Vertical
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    DelayItemLoading: =false
                                    Height: =Self.AllItemsCount*Self.TemplateHeight+10
                                    Items: |-
                                      =If(
                                          IsEmpty(_casosRelacionados),
                                          [
                                              {
                                                  id: Blank(),
                                                  id_vitima: "Não possui casos relacionados"
                                              }
                                          ],
                                          _casosRelacionados
                                      )
                                    LoadingSpinner: =LoadingSpinner.None
                                    TemplatePadding: =0
                                    TemplateSize: =30
                                    Visible: =If(entradaPossuiRelacao.Selected.Value = "Sim", true, false)
                                    Width: =493
                                    X: =812
                                    Y: =5
                                  Children:
                                    - Label2_72:
                                        Control: Label@2.5.1
                                        Properties:
                                          AutoHeight: =true
                                          BorderColor: =RGBA(0, 18, 107, 1)
                                          Color: =cor.textoPrincipal
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Height: =27
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingTop: =0
                                          Size: =11
                                          Text: =ThisItem.id_vitima
                                          Width: =350
                                          X: =5
                                          Y: =3
                                    - ButtonCanvas10:
                                        Control: Button@0.0.45
                                        Properties:
                                          Appearance: ='ButtonCanvas.Appearance'.Transparent
                                          BasePaletteColor: =cor.tema
                                          DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                          Height: =25
                                          Icon: ="DismissCircle"
                                          OnSelect: |-
                                            =Remove(_casosRelacionados, ThisItem);
                                            Patch(
                                                SAVe_Casos_Vinculados,
                                                LookUp(
                                                    SAVe_Casos_Vinculados,
                                                    ID_Caso = ItemAtual.ID_Caso
                                                ),
                                                {Casos_Relacionados: JSON(_casosRelacionados, JSONFormat.Compact)}
                                            );
                                          Text: =
                                          Visible: =!IsEmpty(_casosRelacionados)
                                          Width: =25
                                          X: =380
                  - DataCard_2:
                      Control: DataCard@1.0.2
                      Variant: BlankCard
                      Properties:
                        Height: =300
                        Width: =1334
                        X: =0
                        Y: =1
                      Children:
                        - containerBgData_2:
                            Control: GroupContainer@1.3.0
                            Variant: ManualLayout
                            Properties:
                              BorderColor: =RGBA(217, 217, 217, 1)
                              BorderThickness: =2
                              DropShadow: =DropShadow.Regular
                              Fill: =RGBA(255, 255, 255, 1)
                              Height: =283
                              RadiusBottomLeft: =8
                              RadiusBottomRight: =8
                              RadiusTopLeft: =8
                              RadiusTopRight: =8
                              Width: =1301
                              X: =10
                              Y: =5
                            Children:
                              - tituloObservacoes:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Observações:"
                                    Width: =668
                                    X: =612
                                    Y: =89
                              - entradaObservacoes:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    Height: =143
                                    Mode: ='TextInputCanvas.Mode'.Multiline
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Observacao: Self.Value}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                          Observacao
                                      )

                                      //_dadosEntrada.Observacao
                                    Width: =668
                                    X: =613
                                    Y: =121
                              - entradaClassificacaoVitima:
                                  Control: DropDown@0.0.45
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DefaultSelectedItems: |-
                                      =If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Classificacao_vitima
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Classificacao_vitima
                                                  )
                                              }
                                          ]
                                      )

                                      /*If(
                                          !IsBlank(_dadosEntrada.Classificacao_Vitima);
                                          [{Value: _dadosEntrada.Classificacao_Vitima}];
                                          Blank()
                                      )*/
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    Items: |-
                                      =[
                                          Blank(),
                                          "Vítima direta",
                                          "Vítima Indireta (afeto e/ou grau 1,2,3 + convivência e/ou dependência)",
                                          "Familiar (grau 4 ou dependência)",
                                          "Vítima Coletiva"
                                      ]
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Classificacao_vitima: Self.Selected.Value}
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(
                                              SAVe_Geral,
                                              ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Tipo_Vitima: Self.Selected.Value}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Width: =372
                                    X: =423
                                    Y: =42
                                  Children:
                                    - Value8:
                                        Control: DropDownDataField@1.5.0
                                        Variant: textualColumn
                                        IsLocked: true
                                        Properties:
                                          FieldDisplayName: ="Value"
                                          FieldName: ="Value"
                                          FieldType: ="s"
                                          Order: =1
                              - tituloClassificacaoVitima:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Classificação da Vítima:"
                                    Width: =319
                                    X: =430
                                    Y: =15
                              - entradaVitimizacao:
                                  Control: DropDown@0.0.45
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DefaultSelectedItems: |-
                                      =If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Vitimizacao
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Vitimizacao
                                                  )
                                              }
                                          ]
                                      )

                                      //[{Value: _dadosEntrada.Vitimizacao}]
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    Items: |-
                                      =[
                                          "Primária",
                                          "Secundária",
                                          "Terciária"
                                      ]
                                    OnChange: |-
                                      =If(entradaVitimizacao.Selected.Value = "Terciária",SetFocus(entradaQualOrigem));
                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Vitimizacao: Self.Selected.Value}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Width: =If(entradaVitimizacao.Selected.Value = "Terciária",180,470)
                                    X: =811
                                    Y: =42
                              - tituloVitimizacao:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Vitimização:"
                                    Width: =319
                                    X: =811
                                    Y: =15
                              - tituloQualOrigem:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Qual a origem? *"
                                    Visible: =entradaVitimizacao.Selected.Value = "Terciária"
                                    Width: =306
                                    X: =999
                                    Y: =15
                              - entradaQualOrigem:
                                  Control: TextInput@0.0.54
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      If(
                                          !IsBlankOrError(entradaQualOrigem.Value),
                                          Patch(
                                              SAVe_DadosDeEntrada,
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                              ),
                                              {Vit_Terciaria_Origem: Self.Value}
                                          )
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    Value: |-
                                      =LookUp(
                                          SAVe_DadosDeEntrada,
                                          ItemAtual.ID_Caso = ID_Caso,
                                          Vit_Terciaria_Origem
                                      )
                                    Visible: =entradaVitimizacao.Selected.Value = "Terciária"
                                    Width: =280
                                    X: =1001
                                    Y: =42
                              - tituloCrimesRelacionado:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =30
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Crimes ou ato infracional que está relacionado"
                                    Width: =entradaObservacoes.Width
                                    X: =10
                                    Y: =91
                              - checkCrimesVida:
                                  Control: CheckBox@0.0.30
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    Checked: ="Crimes contra a vida" in varCrimesTotais
                                    DisplayMode: |-
                                      =If(
                                          !ItemAtual.Encerrado,
                                          If(
                                              varBloqueio,
                                              DisplayMode.Disabled,
                                              DisplayMode.Edit
                                          ),
                                          If(
                                              ItemAtual.Encerrado,
                                              DisplayMode.View,
                                              DisplayMode.Edit
                                          )
                                      )
                                    FontColor: =cor.textoPrincipal
                                    Label: ="Crimes contra a vida"
                                    OnCheck: |-
                                      =UpdateContext({varBloqueio: true});
                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext({
                                          varCrimesTotais:
                                              If(
                                                  !IsBlank(varCrimesTotais) && 
                                                  !IsBlank(Find("Crimes contra a vida", varCrimesTotais)),
                                                  varCrimesTotais,
                                                  TrimEnds(
                                                      Concatenate(
                                                          varCrimesTotais &
                                                          If(!IsBlank(varCrimesTotais), ";") &
                                                          "Crimes contra a vida"
                                                      )
                                                  )
                                              )
                                      });
                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      /*
                                      UpdateContext({
                                          varCrimesTotais:
                                              TrimEnds(
                                                  Concatenate(
                                                      varCrimesTotais & 
                                                      If(
                                                          !IsBlank(varCrimesTotais);
                                                          ";"
                                                      ) & " Crimes contra a vida"
                                                  )
                                              )
                                      });;*/
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );

                                      UpdateContext({varBloqueio: false});
                                    OnSelect: |-
                                      =/*Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      )*/
                                    OnUncheck: |+
                                      =UpdateContext({varBloqueio: true});

                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais,
                                                                      "Crimes contra a vida;;", ";"
                                                                  ),
                                                                  "; Crimes contra a vida", ""
                                                              ),
                                                              "Crimes contra a vida;", ""
                                                          ),
                                                          "Crimes contra a vida", ""
                                                      )
                                                  )
                                          }
                                      );

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                                  & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                      UpdateContext({varBloqueio: false});
                                      //Reset(entradaCrimesVida)
                                      /*
                                      Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais;
                                                                      "Crimes contra a vida;;"; ";"
                                                                  );
                                                                  "; Crimes contra a vida"; ""
                                                              );
                                                              "Crimes contra a vida;"; ""
                                                          );
                                                          "Crimes contra a vida"; ""
                                                      )
                                                  )
                                          }
                                      );;

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais;
                                                              ";;";
                                                              ";"
                                                          );
                                                          "  ";
                                                          " "
                                                      )
                                                  )
                                          }
                                      );;
                                      */
                                      /*
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Coalesce(
                                                  LookUp(
                                                      SAVe_DadosDeEntrada;
                                                      ID_Caso = ItemAtual.ID_Caso
                                                  ).Crime_relacionado;
                                                  ""
                                              )
                                          }
                                      );;

                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Crimes contra a vida;";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  "; Crimes contra a vida";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Crimes contra a vida";
                                                  ""
                                              )
                                          }
                                      );;*/
                                      /*
                                      Patch(
                                          SAVe_Geral;
                                          LookUp(
                                              SAVe_Geral;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Tipo_Crime: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOdio.Selected.Value;
                                                          entradaCrimesOutros.Selected.Value;
                                                          "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(
                                              SAVe_DadosDeEntrada;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Crime_relacionado_especifico: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOdio.Selected.Value;
                                                          entradaCrimesOutros.Selected.Value
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      );;
                                      */
                                    Width: =282
                                    X: =28
                                    Y: =121
                              - checkCrimesOdio:
                                  Control: CheckBox@0.0.30
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    Checked: ="Crimes de ódio" in varCrimesTotais
                                    DisplayMode: |-
                                      =If(
                                          !ItemAtual.Encerrado,
                                          If(
                                              varBloqueio,
                                              DisplayMode.Disabled,
                                              DisplayMode.Edit
                                          ),
                                          If(
                                              ItemAtual.Encerrado,
                                              DisplayMode.View,
                                              DisplayMode.Edit
                                          )
                                      )
                                    FontColor: =cor.textoPrincipal
                                    Label: ="Crimes de ódio"
                                    OnCheck: |-
                                      =UpdateContext({varBloqueio: true});

                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext({
                                          varCrimesTotais:
                                              If(
                                                  !IsBlank(varCrimesTotais) && 
                                                  !IsBlank(Find("Crimes de ódio", varCrimesTotais)),
                                                  varCrimesTotais,
                                                  TrimEnds(
                                                      Concatenate(
                                                          varCrimesTotais &
                                                          If(!IsBlank(varCrimesTotais), ";") &
                                                          "Crimes de ódio"
                                                      )
                                                  )
                                              )
                                      });
                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );

                                      UpdateContext({varBloqueio: false});
                                    OnSelect: |-
                                      =/*Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      //Reset(entradaCrimesOdio);;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      )*/
                                    OnUncheck: |-
                                      =UpdateContext({varBloqueio: true});
                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais,
                                                                      "Crimes de ódio;;", ";"
                                                                  ),
                                                                  "; Crimes de ódio", ""
                                                              ),
                                                              "Crimes de ódio;", ""
                                                          ),
                                                          "Crimes de ódio", ""
                                                      )
                                                  )
                                          }
                                      );

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                                  & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                      UpdateContext({varBloqueio: false});
                                      /*
                                      Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais;
                                                                      "Crimes de ódio;;"; ";"
                                                                  );
                                                                  "; Crimes de ódio"; ""
                                                              );
                                                              "Crimes de ódio;"; ""
                                                          );
                                                          "Crimes de ódio"; ""
                                                      )
                                                  )
                                          }
                                      );;

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais;
                                                              ";;";
                                                              ";"
                                                          );
                                                          "  ";
                                                          " "
                                                      )
                                                  )
                                          }
                                      );;
                                      */
                                      /*UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Crimes de ódio;";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  "; Crimes de ódio";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Crimes de ódio";
                                                  ""
                                              )
                                          }
                                      );;
                                      */
                                      /*

                                      Patch(
                                          SAVe_Geral;
                                          LookUp(
                                              SAVe_Geral;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Tipo_Crime: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesVida.Selected.Value;
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOutros.Selected.Value;
                                                          "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;
                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(
                                              SAVe_DadosDeEntrada;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Crime_relacionado_especifico: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesVida.Selected.Value;
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOutros.Selected.Value
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      );;
                                      */

                                      //Reset(entradaCrimesOdio)
                                    Width: =282
                                    X: =28
                                    Y: =195
                              - checkCrimesOutros:
                                  Control: CheckBox@0.0.30
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    Checked: ="Outros" in varCrimesTotais
                                    DisplayMode: |-
                                      =If(
                                          !ItemAtual.Encerrado,
                                          If(
                                              varBloqueio,
                                              DisplayMode.Disabled,
                                              DisplayMode.Edit
                                          ),
                                          If(
                                              ItemAtual.Encerrado,
                                              DisplayMode.View,
                                              DisplayMode.Edit
                                          )
                                      )
                                    FontColor: =cor.textoPrincipal
                                    Label: ="Outros"
                                    OnCheck: |+
                                      =UpdateContext({varBloqueio: true});

                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext({
                                          varCrimesTotais:
                                              If(
                                                  !IsBlank(varCrimesTotais) && 
                                                  !IsBlank(Find("Outros", varCrimesTotais)),
                                                  varCrimesTotais,
                                                  TrimEnds(
                                                      Concatenate(
                                                          varCrimesTotais &
                                                          If(!IsBlank(varCrimesTotais), ";") &
                                                          "Outros"
                                                      )
                                                  )
                                              )
                                      });
                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );

                                      UpdateContext({varBloqueio: false});
                                    OnSelect: |-
                                      =/*Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      //Reset(entradaCrimesOutros);;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      )*/
                                    OnUncheck: |-
                                      =UpdateContext({varBloqueio: true});

                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais,
                                                                      "Outros;;", ";"
                                                                  ),
                                                                  "; Outros", ""
                                                              ),
                                                              "Outros;", ""
                                                          ),
                                                          "Outros", ""
                                                      )
                                                  )
                                          }
                                      );
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                                  & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );
                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                      UpdateContext({varBloqueio: false});

                                      /*
                                      Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais;
                                                                      "Outros;;"; ";"
                                                                  );
                                                                  "; Outros"; ""
                                                              );
                                                              "Outros;"; ""
                                                          );
                                                          "Outros"; ""
                                                      )
                                                  )
                                          }
                                      );;

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais;
                                                              ";;";
                                                              ";"
                                                          );
                                                          "  ";
                                                          " "
                                                      )
                                                  )
                                          }
                                      );;
                                      */
                                      /*UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Outros;";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  "; Outros";
                                                  ""
                                              )
                                          }
                                      );;
                                      UpdateContext(
                                          {
                                              varCrimesTotais: Substitute(
                                                  varCrimesTotais;
                                                  " Outros";
                                                  ""
                                              )
                                          }
                                      );;
                                      */
                                      /*
                                      Patch(
                                          SAVe_Geral;
                                          LookUp(
                                              SAVe_Geral;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Tipo_Crime: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesVida.Selected.Value;
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOdio.Selected.Value;
                                                          "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(
                                              SAVe_DadosDeEntrada;
                                              ID_Caso = ItemAtual.ID_Caso
                                          );
                                          {
                                              Crime_relacionado_especifico: Concat(
                                                  Filter(
                                                      [
                                                          entradaCrimesVida.Selected.Value;
                                                          entradaCrimesSexual.Selected.Value;
                                                          entradaCrimesOdio.Selected.Value
                                                      ];
                                                      !IsBlank(Value)
                                                  );
                                                  Value;
                                                  "; "
                                              )
                                          }
                                      );;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      );;
                                      */

                                      //Reset(entradaCrimesOutros)
                                    Width: =282
                                    X: =28
                                    Y: =232
                              - entradaClassificacaoCrime:
                                  Control: DropDown@0.0.45
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    BorderThickness: =1
                                    DefaultSelectedItems: |-
                                      =If(
                                          IsBlankOrError(
                                              LookUp(
                                                  SAVe_DadosDeEntrada,
                                                  ID_Caso = ItemAtual.ID_Caso,
                                                  Classificacao_crime
                                              )
                                          ),
                                          Blank(),
                                          [
                                              {
                                                  Value: LookUp(
                                                      SAVe_DadosDeEntrada,
                                                      ThisRecord.ID_Caso = ItemAtual.ID_Caso,
                                                      Classificacao_crime
                                                  )
                                              }
                                          ]
                                      )

                                      /*If(
                                          !IsBlank(_dadosEntrada.Classificacao_Crime);
                                          [{Value: _dadosEntrada.Classificacao_Crime}];
                                          Blank()
                                      )*/
                                    DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.View, DisplayMode.Edit)
                                    Items: |-
                                      =[
                                          Blank(),
                                          "Consumado",
                                          "Tentado"
                                      ]
                                    OnChange: |+
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(
                                              SAVe_DadosDeEntrada,
                                              ThisRecord.ID_Caso = ItemAtual.ID_Caso
                                          ),
                                          {Classificacao_crime: Self.Selected.Value}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );

                                      Select(atualizaSAVeGeralCrimes);
                                    Width: =372
                                    X: =18
                                    Y: =42
                                  Children:
                                    - Value8_1:
                                        Control: DropDownDataField@1.5.0
                                        Variant: textualColumn
                                        IsLocked: true
                                        Properties:
                                          FieldDisplayName: ="Value"
                                          FieldName: ="Value"
                                          FieldType: ="s"
                                          Order: =1
                              - tituloClassificacaoCrime:
                                  Control: Label@2.5.1
                                  Properties:
                                    BorderColor: =RGBA(0, 18, 107, 1)
                                    Color: =cor.textoPrincipal
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =27
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingTop: =0
                                    Size: =11
                                    Text: ="Classificação do crime ou ato infracional:"
                                    Width: =319
                                    X: =18
                                    Y: =15
                              - ComboBoxCrimesContraVida:
                                  Control: Classic/ComboBox@2.4.0
                                  Properties:
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    ChevronBackground: =RGBA(214, 221, 224, 1)
                                    ChevronFill: =RGBA(106, 122, 127, 1)
                                    ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                    ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                    DefaultSelectedItems: |-
                                      =ForAll(
                                          Filter(
                                              Split(LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Crime_relacionado_especifico), ";"),
                                              Trim(Value) in ["Homicídio simples",
                                                                "Homicídio qualificado",
                                                                "Feminicídio",
                                                                "Induzimento, instigação ou auxílio a suicídio ou a automutilação",
                                                                "Infanticídio",
                                                                "Aborto provocado por terceiro"]
                                          ),
                                          { Value: Trim(Value) }
                                      )

                                      /*
                                      ForAll(
                                          Split(
                                              LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso; Crime_relacionado_especifico);
                                              ";"
                                          );
                                          {Value: Trim(Value)}
                                      )*/
                                    DisplayFields: =["Value"]
                                    Font: =Font.'Open Sans'
                                    Height: =30
                                    HoverFill: =RGBA(186, 202, 226, 1)
                                    Items: |-
                                      =Table(
                                          {Value: "Homicídio simples"},
                                          {Value: "Homicídio qualificado"},
                                          {Value: "Feminicídio"},
                                          {Value: "Induzimento, instigação ou auxílio a suicídio ou a automutilação"},
                                          {Value: "Infanticídio"},
                                          {Value: "Aborto provocado por terceiro"}
                                      )
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    OnSelect: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    PressedColor: =RGBA(255, 255, 255, 1)
                                    PressedFill: =RGBA(0, 18, 107, 1)
                                    SearchFields: =["Value"]
                                    SelectionColor: =RGBA(0, 0, 0, 1)
                                    SelectionFill: =RGBA(214, 221, 224, 1)
                                    Visible: =checkCrimesVida.Checked
                                    Width: =245
                                    X: =352
                                    Y: =122
                              - ComboBoxCrimesContraDignidade:
                                  Control: Classic/ComboBox@2.4.0
                                  Properties:
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    ChevronBackground: =RGBA(214, 221, 224, 1)
                                    ChevronFill: =RGBA(106, 122, 127, 1)
                                    ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                    ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                    DefaultSelectedItems: |-
                                      =ForAll(
                                          Filter(
                                              Split(LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Crime_relacionado_especifico), ";"),
                                              Trim(Value) in [
                                                  "Estupro",
                                                  "Estupro de vulnerável",
                                                  "Estupro coletivo",
                                                  "Estupro corretivo",
                                                  "Violação sexual mediante fraude",
                                                  "Importunação sexual",
                                                  "Assédio sexual",
                                                  "Registro não autorizado da intimidade sexual",
                                                  "Corrupção de menores",
                                                  "Satisfação de lascívia mediante presença de criança ou adolescente",
                                                  "Favorecimento da prostituição ou de outra forma de exploração sexual de criança ou adolescente ou de vulnerável",
                                                  "Divulgação de cena de estupro ou de cena de estupro de vulnerável, de cena de sexo ou de pornografia",
                                                  "Outro"
                                              ]
                                          ),
                                          { Value: Trim(Value) }
                                      )
                                    DisplayFields: =["Value"]
                                    Font: =Font.'Open Sans'
                                    Height: =30
                                    HoverFill: =RGBA(186, 202, 226, 1)
                                    Items: |-
                                      =Table(
                                          {Value: "Estupro"},
                                          {Value: "Estupro de vulnerável"},
                                          {Value: "Estupro coletivo"},
                                          {Value: "Estupro corretivo"},
                                          {Value: "Violação sexual mediante fraude"},
                                          {Value: "Importunação sexual"},
                                          {Value: "Assédio sexual"},
                                          {Value: "Registro não autorizado da intimidade sexual"},
                                          {Value: "Corrupção de menores"},
                                          {Value: "Satisfação de lascívia mediante presença de criança ou adolescente"},
                                          {Value: "Favorecimento da prostituição ou de outra forma de exploração sexual de criança ou adolescente ou de vulnerável"},
                                          {Value: "Divulgação de cena de estupro ou de cena de estupro de vulnerável, de cena de sexo ou de pornografia"},
                                          {Value: "Outro"}
                                      )


                                      /*[
                                          "Estupro";
                                          "Estupro de vulnerável";
                                          "Estupro coletivo";
                                          "Estupro corretivo";
                                          "Violação sexual mediante fraude";
                                          "Importunação sexual";
                                          "Assédio sexual";
                                          "Registro não autorizado da intimidade sexual";
                                          "Corrupção de menores";
                                          "Satisfação de lascívia mediante presença de criança ou adolescente";
                                          "Favorecimento da prostituição ou de outra forma de exploração sexual de criança ou adolescente ou de vulnerável";
                                          "Divulgação de cena de estupro ou de cena de estupro de vulnerável, de cena de sexo ou de pornografia";
                                          "Outro"
                                      ]*/
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    OnSelect: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    PressedColor: =RGBA(255, 255, 255, 1)
                                    PressedFill: =RGBA(0, 18, 107, 1)
                                    SearchFields: =["Value"]
                                    SelectionColor: =RGBA(0, 0, 0, 1)
                                    SelectionFill: =RGBA(214, 221, 224, 1)
                                    Visible: =checkCrimesSexual.Checked
                                    Width: =245
                                    X: =352
                                    Y: =160
                              - ComboBoxCrimesOdio:
                                  Control: Classic/ComboBox@2.4.0
                                  Properties:
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    ChevronBackground: =RGBA(214, 221, 224, 1)
                                    ChevronFill: =RGBA(106, 122, 127, 1)
                                    ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                    ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                    DefaultSelectedItems: |-
                                      =ForAll(
                                          Filter(
                                              Split(LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Crime_relacionado_especifico), ";"),
                                              Trim(Value) in ["Racismo",
                                                                "Homofobia",
                                                                "Lesbofobia",
                                                                "Transfobia",
                                                                "Bifobia",
                                                                "Xenofobia",
                                                                "Racismo religioso"]
                                          ),
                                          { Value: Trim(Value) }
                                      )
                                    DisplayFields: =["Value"]
                                    Font: =Font.'Open Sans'
                                    Height: =30
                                    HoverFill: =RGBA(186, 202, 226, 1)
                                    Items: |-
                                      =Table(
                                         {Value: "Racismo"},
                                         {Value: "Homofobia"},
                                         {Value: "Lesbofobia"},
                                         {Value: "Transfobia"},
                                         {Value: "Bifobia"},
                                         {Value: "Xenofobia"},
                                         {Value: "Racismo religioso"}
                                      )
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    OnSelect: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    PressedColor: =RGBA(255, 255, 255, 1)
                                    PressedFill: =RGBA(0, 18, 107, 1)
                                    SearchFields: =["Value"]
                                    SelectionColor: =RGBA(0, 0, 0, 1)
                                    SelectionFill: =RGBA(214, 221, 224, 1)
                                    Visible: =checkCrimesOdio.Checked
                                    Width: =245
                                    X: =352
                                    Y: =197
                              - ComboBoxCrimesOutros:
                                  Control: Classic/ComboBox@2.4.0
                                  Properties:
                                    BorderColor: =RGBA(214, 221, 224, 1)
                                    ChevronBackground: =RGBA(214, 221, 224, 1)
                                    ChevronFill: =RGBA(106, 122, 127, 1)
                                    ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                                    ChevronHoverFill: =RGBA(255, 255, 255, 1)
                                    DefaultSelectedItems: |-
                                      =ForAll(
                                          Filter(
                                              Split(LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso, Crime_relacionado_especifico), ";"),
                                              Trim(Value) in ["Patrimonial",
                                                                "Violência Doméstica",
                                                                "Integridade física",
                                                                "Outros"]
                                          ),
                                          { Value: Trim(Value) }
                                      )
                                    DisplayFields: =["Value"]
                                    Font: =Font.'Open Sans'
                                    Height: =30
                                    HoverFill: =RGBA(186, 202, 226, 1)
                                    Items: |-
                                      =Table(
                                          {Value: "Patrimonial"},
                                          {Value: "Violência Doméstica"},
                                          {Value: "Integridade física"},
                                          {Value: "Outros"}
                                      )
                                    OnChange: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    OnSelect: |-
                                      =Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      )
                                    PressedColor: =RGBA(255, 255, 255, 1)
                                    PressedFill: =RGBA(0, 18, 107, 1)
                                    SearchFields: =["Value"]
                                    SelectionColor: =RGBA(0, 0, 0, 1)
                                    SelectionFill: =RGBA(214, 221, 224, 1)
                                    Visible: =checkCrimesOutros.Checked
                                    Width: =245
                                    X: =352
                                    Y: =234
                              - checkCrimesSexual:
                                  Control: CheckBox@0.0.30
                                  Properties:
                                    BasePaletteColor: =cor.tema
                                    Checked: ="Crimes contra a dignidade sexual" in varCrimesTotais
                                    DisplayMode: |-
                                      =If(
                                          !ItemAtual.Encerrado,
                                          If(
                                              varBloqueio,
                                              DisplayMode.Disabled,
                                              DisplayMode.Edit
                                          ),
                                          If(
                                              ItemAtual.Encerrado,
                                              DisplayMode.View,
                                              DisplayMode.Edit
                                          )
                                      )
                                    FontColor: =cor.textoPrincipal
                                    Label: ="Crimes contra a dignidade sexual"
                                    OnCheck: |-
                                      =UpdateContext({varBloqueio: true});
                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );
                                      UpdateContext({
                                          varCrimesTotais:
                                              If(
                                                  !IsBlank(varCrimesTotais) && 
                                                  !IsBlank(Find("Crimes contra a dignidade sexual", varCrimesTotais)),
                                                  varCrimesTotais,
                                                  TrimEnds(
                                                      Concatenate(
                                                          varCrimesTotais &
                                                          If(!IsBlank(varCrimesTotais), ";") &
                                                          "Crimes contra a dignidade sexual"
                                                      )
                                                  )
                                              )
                                      });
                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );

                                      UpdateContext({varBloqueio: false});
                                    OnSelect: |-
                                      =/*Notify(
                                          "Salvando...";
                                          NotificationType.Information
                                      );;

                                      //Reset(entradaCrimesSexual);;

                                      Patch(
                                          SAVe_DadosDeEntrada;
                                          LookUp(SAVe_DadosDeEntrada; ID_Caso = ItemAtual.ID_Caso);
                                          {Crime_relacionado: varCrimesTotais}
                                      );;

                                      Notify(
                                          "Salvo! ✅";
                                          NotificationType.Success;
                                          2000
                                      )*/
                                    OnUncheck: |-
                                      =UpdateContext({varBloqueio: true});
                                      Notify(
                                          "Salvando...",
                                          NotificationType.Information
                                      );

                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              Substitute(
                                                                  Substitute(
                                                                      varCrimesTotais,
                                                                      "Crimes contra a dignidade sexual;;", ";"
                                                                  ),
                                                                  "; Crimes contra a dignidade sexual", ""
                                                              ),
                                                              "Crimes contra a dignidade sexual;", ""
                                                          ),
                                                          "Crimes contra a dignidade sexual", ""
                                                      )
                                                  )
                                          }
                                      );

                                      // Remove espaços e ; duplicados
                                      UpdateContext(
                                          {
                                              varCrimesTotais:
                                                  Trim(
                                                      Substitute(
                                                          Substitute(
                                                              varCrimesTotais,
                                                              ";;",
                                                              ";"
                                                          ),
                                                          "  ",
                                                          " "
                                                      )
                                                  )
                                          }
                                      );
                                      Patch(
                                          SAVe_Geral,
                                          LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Tipo_Crime:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                                  & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                                          }
                                      );
                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {
                                              Crime_relacionado_especifico:
                                                  Concat(
                                                      Distinct(
                                                          Ungroup(
                                                              Table(
                                                                  {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                                                  {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                                              ),
                                                              Itens
                                                          ),
                                                          Value
                                                      ),
                                                      Value,
                                                      "; "
                                                  )
                                          }
                                      );

                                      Patch(
                                          SAVe_DadosDeEntrada,
                                          LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                                          {Crime_relacionado: varCrimesTotais}
                                      );

                                      Notify(
                                          "Salvo! ✅",
                                          NotificationType.Success,
                                          2000
                                      );
                                      UpdateContext({varBloqueio: false});
                                    Width: =282
                                    X: =28
                                    Y: =158
                  - DataCard4:
                      Control: DataCard@1.0.2
                      Variant: BlankCard
                      Properties:
                        Height: =210
                        Width: =1334
                        X: =0
                        Y: =3
                      Children:
                        - ControleAnexos_1:
                            Control: CanvasComponent
                            ComponentName: ControleAnexos
                            Properties:
                              EntrataItemAtual: =ItemAtual
                              Height: =200
                              NavegarAnexos: |-
                                =Set(_telaAnexo, App.ActiveScreen);
                                Navigate(Tela_Anexos);
                              Width: =Parent.Width - 10
                              telaAnexo: =App.ActiveScreen
                  - DataCard41:
                      Control: DataCard@1.0.2
                      Variant: BlankCard
                      Properties:
                        Height: =100
                        Width: =1334
                        X: =0
                        Y: =4
                      Children:
                        - botaoSalvarPasso1:
                            Control: Classic/Button@2.2.0
                            Properties:
                              BorderColor: =ColorFade(Self.Fill, -15%)
                              BorderThickness: =0
                              Color: =RGBA(255, 255, 255, 1)
                              DisabledBorderColor: =RGBA(166, 166, 166, 1)
                              DisplayMode: =If(ItemAtual.Encerrado, DisplayMode.Disabled, DisplayMode.Edit)
                              Fill: =cor.tema
                              Font: =Font.'Open Sans'
                              HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
                              HoverColor: =RGBA(255, 255, 255, 1)
                              HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                              OnSelect: =MenuPassos_1.NavegarProximo()
                              PressedBorderColor: =Self.Fill
                              PressedColor: =Self.Fill
                              PressedFill: =Self.Color
                              RadiusBottomLeft: =6
                              RadiusBottomRight: =6
                              RadiusTopLeft: =6
                              RadiusTopRight: =6
                              Size: =13
                              Text: ="Próximo"
                              Width: =194
                              X: =1120
                              Y: =16
            - MenuPassos_1:
                Control: CanvasComponent
                ComponentName: MenuPassos
                Properties:
                  GaleriaAbas: "=With(\r\n    {\r\n        menu: If(_FormCompleto, \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 120,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 120,//150\r\n                nome: \"Sócio identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 120,//180\r\n                nome: \"Ensino - trab - renda\",\r\n                descricao: \"\",\r\n                pagina: Tela_Ensino_Trab_Renda\r\n            },\r\n            \r\n            {\r\n                idMenu: 4,\r\n                largura: 60,\r\n                nome: \"Assistência\",\r\n                descricao: \"\",\r\n                pagina: Tela_Assistencia\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 90,\r\n                nome: \"Território\",\r\n                descricao: \"\",\r\n                pagina: Tela_Territorio\r\n            },\r\n            {\r\n                idMenu: 6,\r\n                largura: 80,\r\n                nome: \"Saúde\",\r\n                descricao: \"\",\r\n                pagina: Tela_Saude\r\n            },\r\n            {\r\n                idMenu: 7,\r\n                largura: 85,\r\n                nome: \"Vínculos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vinculos\r\n            },\r\n            {\r\n                idMenu: 8,\r\n                largura: 120,//200\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 9,\r\n                largura: 110,\r\n                nome: \"Agressor\",\r\n                descricao: \"\",\r\n                pagina: Tela_Agressor\r\n            },\r\n            {\r\n                idMenu: 10,\r\n                largura: 120,//180\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 11,\r\n                largura: 120,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            },\r\n            {\r\n                idMenu: 12,\r\n                largura: 120,\r\n                nome: \"Síntese Analítica\",\r\n                descricao: \"\",\r\n                pagina: Tela_Sintese_Analitica\r\n            },\r\n            {\r\n                idMenu: 13,\r\n                largura: 120,//170\r\n                nome: \"Acompanhamentos\",\r\n                descricao: \"\",\r\n                pagina: Tela_Acompanhamento\r\n            },\r\n            /*{\r\n                idMenu: 14;\r\n                largura: 120;//200\r\n                nome: \"Relato de Atendimento\";\r\n                descricao: \"\";\r\n                pagina: Tela_Relato_De_Atendimento\r\n            };*/\r\n            {\r\n                idMenu: 14,\r\n                largura: 120,//135\r\n                nome: \"Encerramento\",\r\n                descricao: \"\",\r\n                pagina: Tela_Encerramento\r\n            },\r\n            /*{\r\n                idMenu: 15;\r\n                largura: 120;//132\r\n                nome: \"Matriz de risco\";\r\n                descricao: \"\";\r\n                pagina: Tela_Matriz_De_Risco\r\n            };*/\r\n            {\r\n                idMenu: 15,\r\n                largura: 120,//135\r\n                nome: \"Referências\",\r\n                descricao: \"\",\r\n                pagina: Tela_Referencias\r\n            }\r\n        ], //dados de entrada, socioidentificação, situação juridica maior e menor, proteção-segurança e vitimização \r\n        [\r\n            {\r\n                idMenu: 1,\r\n                largura: 170,\r\n                nome: \"Dados de Entrada\",\r\n                descricao: \"\",\r\n                pagina: Tela_Dados_Entrada\r\n            },\r\n            {\r\n                idMenu: 2,\r\n                largura: 150,\r\n                nome: \"Sócio identificação\",\r\n                descricao: \"\",\r\n                pagina: Tela_Socio_Identificacao\r\n            },\r\n            {\r\n                idMenu: 3,\r\n                largura: 200,\r\n                nome: \"Situação Jurídica\",\r\n                descricao: \"\",\r\n                pagina: Tela_SitJuridica\r\n            },\r\n            {\r\n                idMenu: 4,\r\n                largura: 180,\r\n                nome: \"Proteção-segurança\",\r\n                descricao: \"\",\r\n                pagina: Tela_Protecao_Seguranca\r\n            },\r\n            {\r\n                idMenu: 5,\r\n                largura: 240,\r\n                nome: \"Vitimização secundária e terciária\",\r\n                descricao: \"\",\r\n                pagina: Tela_Vitimizacao\r\n            }\r\n        ]\r\n        )\r\n    },\r\n    With(\r\n        {\r\n            // Acrescenta a coluna \"larguraCalc\" conforme regra:\r\n            // Se o item for o selecionado (_passoAtual.idMenu), usa a largura definida;\r\n// Senão, divide o espaço restante igualmente entre os demais itens.\r\nmenuCalc: AddColumns(\r\n                menu,\r\n                larguraCalc,\r\n                If(\r\n                    pagina = MenuPassos_1.TelaAtual,\r\n                    largura,\r\n                    If(pagina = Tela_Vitimizacao, largura,\r\n                    ((Self.Width - 100) - LookUp(\r\n                        menu,\r\n                        pagina = MenuPassos_1.TelaAtual,\r\n                        largura\r\n                    )) / (CountRows(menu) - 1))\r\n                )\r\n            )\r\n        },\r\n        // Ordena os itens pelo idMenu e calcula a posição \"distancia\" de cada item\r\n// somando as larguras calculadas dos itens anteriores.\r\n        AddColumns(\r\n            SortByColumns(\r\n                menuCalc,\r\n                \"idMenu\",\r\n                SortOrder.Ascending\r\n            ) As m1,\r\n            distancia,\r\n            Sum(\r\n                Filter(\r\n                    menuCalc,\r\n                    idMenu < m1.idMenu\r\n                ),\r\n                larguraCalc\r\n            )\r\n        )\r\n    )\r\n)"
                  Height: =100
                  TelaAtual: =App.ActiveScreen
                  Width: =App.Width
      - MenuSuperior_1:
          Control: CanvasComponent
          ComponentName: MenuSuperior
          Properties:
            Height: =60
            Width: =1346
            X: =10
            Y: =10
      - ContainerVincularCaso:
          Control: GroupContainer@1.3.0
          Variant: ManualLayout
          Properties:
            Height: =768
            Visible: =_VincularCaso
            Width: =1366
          Children:
            - FundoVincularCaso:
                Control: Rectangle@2.3.0
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Fill: =RGBA(0, 0, 0, 0.33)
                  Height: =Parent.Height
                  OnSelect: =Set(_VincularCaso, false)
                  Visible: =_VincularCaso
                  Width: =Parent.Width
            - ContainerCentralVincCaso:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  Fill: =ColorFade(cor.tema,50%)
                  Height: =300
                  LayoutAlignItems: =LayoutAlignItems.Stretch
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =30
                  LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                  PaddingBottom: =30
                  PaddingTop: =15
                  Width: =600
                  X: =Parent.Width/3.5
                  Y: =Parent.Height/3.5
                Children:
                  - TituloVincularCaso:
                      Control: Text@0.0.51
                      Properties:
                        Align: ='TextCanvas.Align'.Center
                        FontColor: =RGBA(255, 255, 255, 1)
                        Height: =45
                        Size: =28
                        Text: ="Vincular Caso"
                        VerticalAlign: =VerticalAlign.Middle
                        Weight: ='TextCanvas.Weight'.Bold
                  - SeletorVincCaso:
                      Control: ComboBox@0.0.51
                      Properties:
                        AlignInContainer: =AlignInContainer.Center
                        InputTextPlaceholder: ="Selecionar Caso"
                        Items: |+
                          =Filter(ForAll(
                              SAVe_Geral,
                              {
                                  id: ID_Caso,
                                  id_vitima: ID_Caso & " - " & Nome
                              }
                          ), !(id in _casosRelacionados.id) && ItemAtual.ID_Caso <> id)
                        OnChange: |-
                          =If(
                              IsBlankOrError(
                                  LookUp(
                                      SAVe_Casos_Vinculados,
                                      ID_Caso = ItemAtual.ID_Caso
                                  )
                              ),
                              Patch(
                                  SAVe_Casos_Vinculados,
                                  Defaults(SAVe_Casos_Vinculados),
                                  {ID_Caso: ItemAtual.ID_Caso}
                              )
                          );
                      Children:
                        - id_vitima2:
                            Control: ComboBoxDataField@1.5.0
                            Variant: textualColumn
                            IsLocked: true
                            Properties:
                              FieldDisplayName: ="id_vitima"
                              FieldName: ="id_vitima"
                              FieldType: ="s"
                              Order: =1
                  - ContainerBotoesVincCaso:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.Center
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =70
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutGap: =60
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - CancelarVincCaso:
                            Control: Button@0.0.45
                            Properties:
                              Align: =Align.Center
                              BasePaletteColor: =cor.tema
                              BorderRadius: =10
                              OnSelect: |-
                                =Reset(SeletorVincCaso);
                                Set(_VincularCaso, false)
                              Text: ="Cancelar"
                        - SalvarVincCaso:
                            Control: Button@0.0.45
                            Properties:
                              Align: =Align.Center
                              BasePaletteColor: =cor.tema
                              BorderRadius: =10
                              OnSelect: |
                                =Notify(
                                    "Salvando...",
                                    NotificationType.Information
                                );
                                Collect(
                                    _casosRelacionados,
                                    {
                                        id: SeletorVincCaso.Selected.id,
                                        id_vitima: SeletorVincCaso.Selected.id_vitima
                                    }
                                );
                                Patch(
                                    SAVe_Casos_Vinculados,
                                    LookUp(
                                        SAVe_Casos_Vinculados,
                                        ID_Caso = ItemAtual.ID_Caso
                                    ),
                                    {Casos_Relacionados: JSON(_casosRelacionados, JSONFormat.Compact)}
                                );
                                Reset(SeletorVincCaso);
                                Set(
                                    _VincularCaso,
                                    false
                                );
                                Notify(
                                    "Salvo! ✅",
                                    NotificationType.Success,
                                    2000
                                );
                              Text: ="Salvar"
      - atualizaSAVeGeralCrimes:
          Control: Button@0.0.45
          Properties:
            OnSelect: |-
              =Patch(
                  SAVe_DadosDeEntrada,
                  LookUp(SAVe_DadosDeEntrada, ID_Caso = ItemAtual.ID_Caso),
                  {
                      Crime_relacionado_especifico:
                          Concat(
                              Distinct(
                                  Ungroup(
                                      Table(
                                          {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                      ),
                                      Itens
                                  ),
                                  Value
                              ),
                              Value,
                              "; "
                          )
                  }
              );

              Patch(
                  SAVe_Geral,
                  LookUp(SAVe_Geral, ID_Caso = ItemAtual.ID_Caso),
                  {
                      Tipo_Crime:
                          Concat(
                              Distinct(
                                  Ungroup(
                                      Table(
                                          {Itens: ShowColumns(ComboBoxCrimesContraVida.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesContraDignidade.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesOdio.SelectedItems, Value)},
                                          {Itens: ShowColumns(ComboBoxCrimesOutros.SelectedItems, Value)}
                                      ),
                                      Itens
                                  ),
                                  Value
                              ),
                              Value,
                              "; "
                          ) & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                  }
              );
              /*

              Patch(
                  SAVe_Geral;
                  LookUp(
                      SAVe_Geral;
                      ID_Caso = ItemAtual.ID_Caso
                  );
                  {
                      Tipo_Crime: Concat(
                          Filter(
                              [
                                  entradaCrimesVida.Selected.Value;
                                  entradaCrimesSexual.Selected.Value;
                                  entradaCrimesOdio.Selected.Value;
                                  entradaCrimesOutros.Selected.Value;
                                  "( " & entradaClassificacaoCrime.Selected.Value & " )"
                              ];
                              !IsBlank(Value)
                          );
                          Value;
                          "; "
                      ) //& " " & "( " & entradaClassificacaoCrime.Selected.Value & " )"
                  }
              );;

              Patch(
                  SAVe_DadosDeEntrada;
                  LookUp(
                      SAVe_DadosDeEntrada;
                      ID_Caso = ItemAtual.ID_Caso
                  );
                  {
                      Crime_relacionado_especifico: Concat(
                          Filter(
                              [
                                  entradaCrimesVida.Selected.Value;
                                  entradaCrimesSexual.Selected.Value;
                                  entradaCrimesOdio.Selected.Value;
                                  entradaCrimesOutros.Selected.Value
                              ];
                              !IsBlank(Value)
                          );
                          Value;
                          "; "
                      )
                  }
              );;
              */
            Text: =
            Visible: =false
            X: =222
            Y: =502
